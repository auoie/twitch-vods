# first must be between 1 and 30.
# cursor is not included in the result.
query GetStreams($first: Int!, $cursor: Cursor!) {
  streams(first: $first, after: $cursor) {
    pageInfo {
      hasNextPage
    }
    edges {
      node {
        id
        viewersCount
        broadcaster {
          id
          login
          profileImageURL(width: 50)
          broadcastSettings {
            isMature
            language
            title
          }
        }
        game {
          name
          id
          boxArtURL(width: 40, height: 56)
        }
        viewersCount
        createdAt
      }
      cursor
    }
  }
}

fragment UserInfo on User {
  login
  id
  profileImageURL(width: 50)
  lastBroadcast {
    id
    startedAt
    game {
      id
      name
      displayName
      boxArtURL(width: 40, height: 56)
    }
  }
  broadcastSettings {
    isMature
    language
    title
  }
  videos(type: ARCHIVE, options: { includePrivate: false }, first: 3) {
    edges {
      node {
        id
        isDeleted
        lengthSeconds
        previewThumbnailURL
        publishedAt
        recordedAt
        scope
        title
        game {
          id
          name
          boxArtURL(width: 40, height: 56)
        }
        seekPreviewsURL
        broadcastType
        status
        updatedAt
        createdAt
        deletedAt
        viewCount
      }
    }
  }
  subscriptionProducts {
    type
    hasAdFree
    hasSubOnlyChat
    tier
    hasSubonlyVideoArchive
  }
}

query GetThreeUsers($user1: String!, $user2: String!, $user3: String!) {
  user1: user(login: $user1) {
    ...UserInfo
  }
  user2: user(login: $user2) {
    ...UserInfo
  }
  user3: user(login: $user3) {
    ...UserInfo
  }
}

query GetUserData($userId: ID!) {
  user(id: $userId) {
    videos(type: ARCHIVE, first: 3) {
      edges {
        node {
          seekPreviewsURL
          status
        }
      }
    }
    subscriptionProducts {
      hasSubonlyVideoArchive
    }
  }
}
