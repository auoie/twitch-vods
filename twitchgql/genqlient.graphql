# first must be between 1 and 30.
# cursor is not included in the result.
query GetStreams($first: Int!, $cursor: Cursor!) {
  streams(first: $first, after: $cursor) {
    pageInfo {
      hasNextPage
    }
    edges {
      node {
        id
        viewersCount
        broadcaster {
          id
          login
          broadcastSettings {
            isMature
            language
            title
          }
        }
        game {
          name
          id
        }
        viewersCount
        createdAt
      }
      cursor
    }
  }
}

fragment UserInfo on User {
  login
  lastBroadcast {
    id
    startedAt
    game {
      displayName
    }
  }
  videos(type: ARCHIVE, options: { includePrivate: false }, first: 3) {
    edges {
      node {
        id
        isDeleted
        lengthSeconds
        previewThumbnailURL
        publishedAt
        recordedAt
        scope
        seekPreviewsURL
        broadcastType
        status
        updatedAt
        createdAt
        deletedAt
        viewCount
      }
    }
  }
  subscriptionProducts {
    type
    hasAdFree
    hasSubOnlyChat
    tier
    hasSubonlyVideoArchive
  }
}

query GetThreeUsers($user1: String!, $user2: String!, $user3: String!) {
  user1: user(login: $user1) {
    ...UserInfo
  }
  user2: user(login: $user2) {
    ...UserInfo
  }
  user3: user(login: $user3) {
    ...UserInfo
  }
}
